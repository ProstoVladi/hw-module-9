{"mappings":"YAAA,IAAMA,EAAOC,SAASC,cAAc,SACpCF,EAAKG,iBAAiB,UAKtB,SAAkBC,GAChBA,EAAIC,iBAGJC,YAAW,WAWb,IAAuBC,EAAUC,GAAVD,EAbP,EAaiBC,EAVNC,EAWlB,IAAIC,SAAQ,SAACC,EAAKC,GACvB,IAAMC,EAAgBC,KAAKC,SAAW,GAChCC,EAASC,OAAOjB,EAAKgB,OAAOE,OAElCZ,YAAW,WACT,IAAK,IAAIa,EAAI,EAAGA,GAAKH,EAAQG,IAC3BZ,GAAYY,EAERN,EACFF,EAAI,uBAAwCS,OAAfb,EAAS,QAAYa,OAANZ,EAAM,OAEhDI,EAAE,sBAAuCQ,OAAfb,EAAS,QAAYa,OAANZ,EAAM,M,GAGpDa,E,KAxBAC,MAAK,SAAAC,GACJC,QAAQC,IAAIF,E,IAEbG,OAAM,SAAAC,GACLH,QAAQC,IAAIE,E,MAEfN,E,IAfL,IAAMA,EAAYrB,EAAKQ,MAAMU,MACvBT,EAAeQ,OAAOjB,EAAK4B,KAAKV,M","sources":["src/js/03-promises.js"],"sourcesContent":["const form = document.querySelector('.form');\nform.addEventListener('submit', onSubmit);\n\nconst timeDelay = form.delay.value;\nconst intervalStep = Number(form.step.value);\n\nfunction onSubmit(evt) {\n  evt.preventDefault();\n  let counter = 0;\n\n  setTimeout(() => {\n    createPromise(counter, intervalStep)\n      .then(result => {\n        console.log(result);\n      })\n      .catch(err => {\n        console.log(err);\n      });\n  }, timeDelay);\n}\n\nfunction createPromise(position, delay) {\n  return new Promise((res, rej) => {\n    const shouldResolve = Math.random() > 0.3;\n    const amount = Number(form.amount.value);\n\n    setTimeout(() => {\n      for (let i = 1; i <= amount; i++) {\n        position += i;\n\n        if (shouldResolve) {\n          res(`✅ Fulfilled promise ${position} in ${delay}ms`);\n        } else {\n          rej(`❌ Rejected promise ${position} in ${delay}ms`);\n        }\n      }\n    }, timeDelay);\n  });\n}\n\n// createPromise(2, 1500)\n//   .then(({ position, delay }) => {\n//     console.log(`✅ Fulfilled promise ${position} in ${delay}ms`);\n//   })\n//   .catch(({ position, delay }) => {\n//     console.log(`❌ Rejected promise ${position} in ${delay}ms`);\n//   });\n"],"names":["$ce04d3a99e08e73b$var$form","document","querySelector","addEventListener","evt","preventDefault","setTimeout","position","delay","$ce04d3a99e08e73b$var$intervalStep","Promise","res","rej","shouldResolve","Math","random","amount","Number","value","i","concat","$ce04d3a99e08e73b$var$timeDelay","then","result","console","log","catch","err","step"],"version":3,"file":"03-promises.522ea789.js.map"}